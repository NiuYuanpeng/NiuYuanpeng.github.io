<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-内存的申请与释放" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/10/内存的申请与释放/" class="article-date">
  <time datetime="2015-10-10T03:41:54.000Z" itemprop="datePublished">2015-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/10/内存的申请与释放/">内存的申请与释放</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="内存的申请与释放">内存的申请与释放</h3><p>对于一段内存的数存，该如何解释，是依赖于数据类型,需要使用 malloc,其使用语法如下</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> *</span><br><span class="line">    <span class="title">malloc</span><span class="params">(size_t size)</span></span>;</span><br></pre></td></tr></table></figure>
<p>函数 malloc 包含在头文件为 stdlib.h 的头文件中,使用前需要把它包含进来,其返回值是 void *,其含义是:返回值自定义,有我们用户决定,定义的是接收整型的内存,返回值就是整型的指针,定义的是接收字符型的内存,返回值就是字符型的指针.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> ＊pMyInt ＝ （<span class="keyword">int</span>＊）<span class="built_in">malloc</span>（<span class="keyword">sizeof</span>（<span class="keyword">int</span>））</span><br></pre></td></tr></table></figure>
<p>在这里，我们使用的是int＊，所以，malloc分配的空间所存储的类型就是int型，其声明的pMyInt所指向的事malloc所份哦诶内存的首地址</p>
<p>内存分配之后，要判断内存是否申请成功。在这里，我们使用if语句判断:若内存为空,则证明内存申请成功,否则,需要终止程序.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">NULL</span> != myString)</span><br><span class="line">&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Allocate memory error!"</span>);</span><br><span class="line">	<span class="built_in">exit</span>(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>内存申请成功后,需要对内存进行初始化,需要使用 memset 函数,其存在的库为 String, 所以文件要包含 String.h 这个头文件,其基本语法:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> *</span><br><span class="line">     <span class="title">memset</span><span class="params">(<span class="keyword">void</span> *b, <span class="keyword">int</span> c, size_t len)</span></span>;</span><br></pre></td></tr></table></figure>
<p>memset 的功能是实现内存的初始化, void *b 是字符串数组的名字,也是地址, c 是具体的地址, len 是指的字符的个数,下面就是一个实例, myString 是字符数组的名字,0x00是初始化的首地址, nSize 是申请的个数,可以是具体值,这里的是根据用户的输入而设定的一个值.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">memset</span>(myString,<span class="number">0x00</span>,nSize);</span><br></pre></td></tr></table></figure>
<p>接下来就是要由用户输入想要的字符个数,以及字符.在苹果 Mac 下的 Iterm 中,用苹果的键盘输入的话,会涉及到键盘缓冲区的概念.具体就是输入字符时,需要输入一个字符,然后换行,再输下一个,当从循环中再次执行时,系统就会默认遇到回车键,就是’\n’, 这时候就会跳过去此次循环.等到下次在执行是才会继续让输入,本质就是每隔一个字符存放位存放,导致内存浪费,用户的目的也达不到.</p>
<p>于是, fpurge 函数就应运而生了,其语法结构为</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span></span><br><span class="line">     <span class="title">fpurge</span><span class="params">(FILE *stream)</span></span>;</span><br></pre></td></tr></table></figure>
<p>fpurge函数的作用是刷新文件流,当用 fpurge(stdin); 时,就是刷新键盘的输入缓冲区,这样就不存在’\n’ 的问题啦</p>
<p>内存使用之后,一定要记得释放掉内存,因为 malloc 申请的内存是从堆中申请的,是用户唯一能手动管理的内存部分,如果使用后不释放掉,就会一直占用内存.长此以往,我们将会无内存可用</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">free<span class="list">(<span class="keyword">myString</span>)</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>释放完内存后,需要把前面定义的字符型指针给释放掉.愿意很简单,不设为空的话,后面在调用指针 myString 时,它仍指向 malloc 分配的内存首部,然而 malloc 分配的内存已经释放掉了,这样就会出现错误.</p>
<p>以下就是我在学习内存分配中写的小例子:</p>
<blockquote>
<p>它是在苹果的系统下的 Iterm 中运行的.它使用了 argv[1],指的是在命令行输入的第二个字符</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"> <span class="number">1</span> <span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"> <span class="number">2</span> <span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"> <span class="number">3</span> <span class="preprocessor">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"> <span class="number">4</span> </span><br><span class="line"> <span class="number">5</span> <span class="comment">//根据用户从键盘输入的内容，然后在屏幕上打印</span></span><br><span class="line"> <span class="number">6</span> </span><br><span class="line"> <span class="number">7</span> <span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc,<span class="keyword">const</span> <span class="keyword">char</span> *argv[])</span></span><br><span class="line"> 8 </span>&#123;</span><br><span class="line"> <span class="number">9</span>     <span class="keyword">char</span> *myString = <span class="literal">NULL</span>;</span><br><span class="line"><span class="number">10</span>     <span class="keyword">char</span> myChar;</span><br><span class="line"><span class="number">11</span>     <span class="keyword">int</span> j =<span class="number">0</span>;</span><br><span class="line"><span class="number">12</span>     myChar = fgetc(<span class="built_in">stdin</span>);</span><br><span class="line"><span class="number">13</span>     <span class="keyword">int</span> nSize = atoi(argv[<span class="number">1</span>]);</span><br><span class="line"><span class="number">14</span> </span><br><span class="line"><span class="number">15</span>     myString = (<span class="keyword">char</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">char</span>) * nSize);</span><br><span class="line"><span class="number">16</span>     <span class="comment">//内存申请好之后，需要判断是否为空，若为空，则证明内存申请成功</span></span><br><span class="line"><span class="number">17</span>     <span class="keyword">if</span> (<span class="literal">NULL</span> != myString)</span><br><span class="line"><span class="number">18</span>     &#123;</span><br><span class="line"><span class="number">19</span>         <span class="built_in">printf</span>(<span class="string">"Allocate memory error!"</span>);</span><br><span class="line"><span class="number">20</span>         <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line"><span class="number">21</span>     &#125;</span><br><span class="line"><span class="number">22</span>     <span class="comment">//内存分配好之后，需要进行内存的初始化</span></span><br><span class="line"><span class="number">23</span>     <span class="built_in">memset</span>(myString,<span class="number">0x00</span>,nSize);</span><br><span class="line"><span class="number">24</span>     <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; nSize;i++)</span><br><span class="line"><span class="number">25</span>     &#123;</span><br><span class="line"><span class="number">26</span>         <span class="comment">//使用 fpurge 来清空键盘缓冲区中的记忆</span></span><br><span class="line"><span class="number">27</span>         fpurge(<span class="built_in">stdin</span>);</span><br><span class="line"><span class="number">28</span>         myString[i] = myChar;</span><br><span class="line"><span class="number">29</span>         myChar = fgetc(<span class="built_in">stdin</span>);</span><br><span class="line"><span class="number">30</span>     &#125;</span><br><span class="line"><span class="number">31</span> </span><br><span class="line"><span class="number">32</span>     <span class="built_in">printf</span>(<span class="string">"the myString is %s\n"</span>,myString);</span><br><span class="line"><span class="number">33</span> <span class="comment">//内存使用之后,一定要记得释放掉内存,因为 malloc 申请下的内存都是在堆中申请的,如果不释放掉, 会一直占用内存空间,长此以往,我们将没有可用的内存</span></span><br><span class="line"><span class="number">34</span>     <span class="built_in">free</span>(myString);</span><br><span class="line"><span class="number">35</span>     <span class="comment">//此处把 myString 设为空的原因就是,如果不设为空,后面在重新使用时, myString 仍指向原来的地址,而那地址里的内容已释放,就会出现错误,所以 myString 设为空</span></span><br><span class="line"><span class="number">36</span>     myString = <span class="literal">NULL</span>;</span><br><span class="line"><span class="number">37</span>     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="number">38</span> </span><br><span class="line"><span class="number">39</span> &#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/10/10/内存的申请与释放/" data-id="cifkx5eko000g0ino0fiqrnsb" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-面向对象术语" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/10/面向对象术语/" class="article-date">
  <time datetime="2015-10-10T03:41:42.000Z" itemprop="datePublished">2015-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/10/面向对象术语/">面向对象术语</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="面向对象术语">面向对象术语</h1><h3 id="类">类</h3><p><strong>类</strong>是一种结构,也可以理解为数据类型,而实际上它表示对象的类型.对象引用类来获取和本身有关的各种信息,特别是运行什么代码来处理每种操作. Objective-C 编程风格建议开发人员使用首字母大写的类名.<br><strong>对象</strong>是一种结构,它包含值和指向其类的隐藏指针,可以把对象理解为类类型的变量. Objective-C 变量通常不需要首字母大写<br><strong>实例</strong> “对象”的另一种称呼.<br><strong>消息</strong> 对象可以执行的操作用于通知对象去做什么.对象接收消息后,将查询对应的类,以便查找正确的代码来运行.<br><strong>方法</strong> 是为响应消息而运行的代码.根据对象的类,消息可以调用的 fangfa.<br><strong>方法调度程序</strong>是 Object-C 使用的一种机制,用于推测执行什么方法以响应某个特定消息.<br><strong>接口</strong>是对象的类应该提供描述的特性的描述.<br><strong>实现</strong> 是使接口正常工作的代码,是对接口逻辑功能的具体实现.   </p>
<p>xcode-select -v 查询 Xcode 的版本号( Iterm 中查询<br>)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/10/10/面向对象术语/" data-id="cifkx5ejr00010ino5p4zy9lx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-类的定义及-Objective-C-的引出" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/10/类的定义及-Objective-C-的引出/" class="article-date">
  <time datetime="2015-10-10T03:41:24.000Z" itemprop="datePublished">2015-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/10/类的定义及-Objective-C-的引出/">类的定义及 Objective-C 的引出</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="类">类</h1><h3 id="什么是类">什么是类</h3><ul>
<li>类是一组具有相同特征的和行为的事物的抽象的集合.</li>
<li>也就是我们通常所说的”类型”.</li>
<li>类是抽象的,并不具体指某一个人,而是泛指某一堆人</li>
</ul>
<h3 id="什么是对象">什么是对象</h3><ul>
<li>对象就是<strong>类</strong>的实例.</li>
<li>世间万物全是对象,生活中,一只猫、一条狗、一个订单、一张火车票等都是对象。</li>
</ul>
<h1 id="Objective－C">Objective－C</h1><p> Objective-C 是一种能够完成复杂面向对象编程的简单地计算机设计语言.<br>通过提供用于定义类和方法的语法,它扩展了标准的 ANSIC 程序设计语言.它还提供了类和接口(任何类可采用的)的动态扩展.</p>
<h3 id="特点">特点</h3><ul>
<li>定义新的类</li>
<li>类的实例和方法</li>
<li>方法调用(成为发消息)</li>
<li>属性声明(以及通过他们自动合成存取方法)</li>
<li>静态和动态类型化</li>
<li>块( block), 已封装的、可在任何时候执行多段代码</li>
<li>基本语言的扩展，例如协议和类别</li>
</ul>
<h3 id="如何定义_OC_中的一个类">如何定义 OC 中的一个类</h3><ul>
<li>Objective-C中某个类的规格需要两个不同的部分: <strong>接口</strong>和<strong>实现</strong>。</li>
</ul>
<table>
<thead>
<tr>
<th>扩展名</th>
<th>源文件</th>
</tr>
</thead>
<tbody>
<tr>
<td>.h</td>
<td>头文件.头文件包含类、类型、函数和常量声明</td>
</tr>
<tr>
<td>.m</td>
<td>.m 实现文件.具有此扩展名的文件可以同时包含 Objective-C 代码和 C 代码.有时也称为源文件.</td>
</tr>
<tr>
<td>.mm</td>
<td>.mm 实现文件.具有此扩展名的实现文件,除了包含 Objective-C 代码和 C 代码以外,还可以包含 C++代码.仅当您实际引用您的 Objective-C 代码中的 C++类或功能时,才使用此扩展名.</td>
</tr>
</tbody>
</table>
<h3 id="类的声明实例">类的声明实例</h3><p>下列框图的语法声明名为<strong>MyClass</strong>的类，它是从基础类（或根类）<strong>NSObjiect</strong>继承而来的.(根类是供其他类直接或间接集成的类.) 类声明以编译器指令<strong>@ interface</strong> 开始,以<strong>@ end</strong> 指令结束. 类名称后面(以冒号分隔),是父类的名称.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="at_rule">@<span class="keyword">interface</span> MyClass : NSObject</span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="tag">int</span>    <span class="tag">count</span>;</span><br><span class="line">	<span class="tag">id</span>      <span class="rule"><span class="attribute">data</span>:<span class="value"></span><br><span class="line">	NSString* name</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">-</span>  (<span class="tag">id</span>)<span class="rule"><span class="attribute">initWithString </span>:<span class="value"> (NSString*)aName</span></span>;</span><br><span class="line">+  (<span class="tag">MyClass</span>*)<span class="rule"><span class="attribute">createMyClassWithString </span>:<span class="value"> (NSString*)aName</span></span>;</span><br><span class="line"><span class="at_rule">@<span class="keyword">end</span></span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/10/10/类的定义及-Objective-C-的引出/" data-id="cifkx5eju00020ino1w90oqgp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-类别的扩展-续" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/10/类别的扩展-续/" class="article-date">
  <time datetime="2015-10-10T03:41:10.000Z" itemprop="datePublished">2015-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/10/类别的扩展-续/">类别的扩展_续</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="类别的扩展_续">类别的扩展 续</h3><hr>
<h4 id="利用类别分散实现代码">利用类别分散实现代码</h4><ul>
<li>在大型的项目中,一个类的实现可能非常大,并且 .m 文件不能分离.但是使用类别可以将一个类的实现分散且有规律的组织在不同的文件中.还可以将一个类的实现分散到不同的框架中.</li>
<li>编程人员可以更加容易阅读代码并实现多人合作编码   </li>
<li>版本管理降低冲突</li>
<li>维护人员跟容易理解代码</li>
</ul>
<p>在代码的头文件中,假如有如下这么多的成员变量,也就需要相应的 setter, 和 getter 方法</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Things</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSUInteger</span> thing1;</span><br><span class="line">    <span class="built_in">NSUInteger</span> thing2;</span><br><span class="line">    <span class="built_in">NSUInteger</span> thing3;</span><br><span class="line">    <span class="built_in">NSUInteger</span> thing4;</span><br><span class="line">    <span class="built_in">NSUInteger</span> thing5;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)resetAllValue;</span><br><span class="line">- (<span class="keyword">void</span>)print;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setThing1:(<span class="built_in">NSUInteger</span>)thing1;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)thing1;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setThing2:(<span class="built_in">NSUInteger</span>)thing2;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)thing2;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setThing3:(<span class="built_in">NSUInteger</span>)thing3;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)thing3;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setThing4:(<span class="built_in">NSUInteger</span>)thing4;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)thing4;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setThing5:(<span class="built_in">NSUInteger</span>)thing5;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)thing5;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>这样相应的. m 文件就会繁琐到不行,这才是5个变量,假如是100个,需要许多人来完成,总不能让每个人都拿着核心文件吧,于是把它们分散开非常有必要,而类别给我们提供了一种这样的机制,只需要一个总的实现文件 .m,然后把其中部分方法分散到其类别文件中去实现.如下, 头文件Things.h文件要修改代码如下:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Things</span> : <span class="title">NSObject</span></span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSUInteger</span> thing1;</span><br><span class="line">    <span class="built_in">NSUInteger</span> thing2;</span><br><span class="line">    <span class="built_in">NSUInteger</span> thing3;</span><br><span class="line">    <span class="built_in">NSUInteger</span> thing4;</span><br><span class="line">    <span class="built_in">NSUInteger</span> thing5;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)resetAllValue;</span><br><span class="line">- (<span class="keyword">void</span>)print;</span><br><span class="line"><span class="comment">//类的扩展如下</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Things</span> (<span class="title">thing1</span>)</span></span><br><span class="line">- (<span class="keyword">void</span>)setThing1:(<span class="built_in">NSUInteger</span>)thing1;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)thing1;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Things</span> (<span class="title">thing2</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setThing2:(<span class="built_in">NSUInteger</span>)thing2;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)thing2;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Things</span> (<span class="title">thing3</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setThing3:(<span class="built_in">NSUInteger</span>)thing3;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)thing3;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Things</span> (<span class="title">thing4</span>)</span></span><br><span class="line">- (<span class="keyword">void</span>)setThing4:(<span class="built_in">NSUInteger</span>)thing4;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)thing4;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Things</span> (<span class="title">thing5</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setThing5:(<span class="built_in">NSUInteger</span>)thing5;</span><br><span class="line">- (<span class="built_in">NSUInteger</span>)thing5;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>实现文件 Things.m 的内容只需要核心的方法,其余让其扩张类别去做:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">"Things.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Things</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)print</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%ld,%ld,%ld,%ld,%ld"</span>,<span class="keyword">self</span><span class="variable">.thing1</span>,<span class="keyword">self</span><span class="variable">.thing2</span>,<span class="keyword">self</span><span class="variable">.thing3</span>,<span class="keyword">self</span><span class="variable">.thing4</span>,<span class="keyword">self</span><span class="variable">.thing5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)resetAllValue</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.thing1</span> = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.thing2</span> = <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>其余具体实现,即需要好多人做的部分,给他们分开,下面举一个 Things+Thing1.m 文件</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">"Things.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Things</span> (<span class="title">Thing1</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setThing1:(<span class="built_in">NSUInteger</span>)t</span><br><span class="line">&#123;</span><br><span class="line">    thing1 = t;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSUInteger</span>)thing1</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> thing1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h4 id="通过类别创建前向引用和方法声明">通过类别创建前向引用和方法声明</h4><hr>
<ul>
<li>Cocoa 没有真正的私有方法,但是如果你知道对象支持的某个方法的名称,就算是该对象所在的了类的接口中没有声明这个方法,也可以调用它.因为可以使用类别告诉编译器此方法已经声明过了.</li>
<li>越狱项目中常常使用类别的这个功能,完成调用私有 API.</li>
</ul>
<h4 id="响应选择器">响应选择器</h4><hr>
<ul>
<li>所谓响应选择器,可以理解为方法的类型.</li>
<li>响应选择器也是 Objective-C 运行时的特性.</li>
<li>可以通过选择器来判断一个对象是否能够执行某一个方法或者说测试一个对象能否响应指定的消息.</li>
<li>响应选择器既然可以理解为方法或者说消息的类型所以它可以作为方法的参数传递使用.也可以作为实例变量被储存,非常灵活.</li>
<li>使用@ selector() 编译器指令来指定选择器,圆括号里是具体的方法名.如:</li>
</ul>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@selector</span>(<span class="attribute">setEngine</span>:)</span><br><span class="line"><span class="variable">@selector</span>(<span class="attribute">setTire</span>:atIndex)</span><br></pre></td></tr></table></figure>
<ul>
<li>选择器的类型关键字: SEL</li>
<li>(BOOL)respondsToSelector:(SEL)aSelector;// 使用此方法可以判断某一对象是否可以执行指定的方法.<br>举例代码:   </li>
</ul>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">QYCar *car = [[Car alloc] init];</span><br><span class="line"><span class="keyword">if</span>([car <span class="string">respondsToSelector:</span><span class="annotation">@selector</span>(<span class="string">setEngine:</span>)])&#123;</span><br><span class="line">    NSLog(@<span class="string">"hihi"</span>);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h4 id="委托和非正式协议">委托和非正式协议</h4><hr>
<ul>
<li>所谓委托,其实就是一个对象有另一个对象请求执行某些操作的技术实现.</li>
<li>所谓<strong>非正式协议</strong>,其实就是创建一个 NSObject 的类别.</li>
</ul>
<p>下面,我就用一个简单的例子来实现非正式协议实现委托<br>第一步,创建名 QYXiaoMing的类继承自NSObject 类,在创建一个 QYXiaoHong 的类,来实现一个这样的功能:<br>   小明学习累了,想让小红在他睡着后某段时间后再把他叫起来,这时候小红叫小明这个动作就是一个委托 .具体代码如下:   </p>
<p>QYXiaoMing.h 的内容</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">QYXiaoMing</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//小明学习累了,有学习的行为</span></span><br><span class="line">- (<span class="keyword">void</span>)startSleep:(<span class="built_in">NSUInteger</span>) time;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span><span class="comment">//QYXiaoMing.h</span></span><br></pre></td></tr></table></figure>
<p>QYXiaoMing.m 的内容</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">"QYXiaoMing.h"</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"QYXiaoHong.h"</span></span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">QYXiaoMing</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)startSleep:(<span class="built_in">NSUInteger</span>)time</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"Sleep..."</span>);</span><br><span class="line">    QYXiaoHong *xiaohong = [[QYXiaoHong alloc] init];</span><br><span class="line">    [xiaohong call:time];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span><span class="comment">//QYXiaoMing.m</span></span><br></pre></td></tr></table></figure>
<p>头文件QYXiaoHong.h</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">QYXiaoHong</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)call:(<span class="built_in">NSUInteger</span>)time;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span><span class="comment">//QYXiaoHong.h</span></span><br></pre></td></tr></table></figure>
<p>具体实现QYXiaoHong.m</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">"QYXiaoHong.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">QYXiaoHong</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)call:(<span class="built_in">NSUInteger</span>)time</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//需要在指定的时间里把小明叫起来(计时器的用法)</span></span><br><span class="line">    [<span class="built_in">NSTimer</span>  scheduledTimerWithTimeInterval:time target:<span class="keyword">self</span> selector:<span class="keyword">@selector</span>(callXiaoMing) userInfo:<span class="literal">nil</span> repeats:<span class="literal">NO</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span> <span class="comment">//QYXiaoHong.m</span></span><br></pre></td></tr></table></figure>
<p> 类别头文件NSObject+CallXiaoMing.h</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSObject</span> (<span class="title">CallXiaoMing</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)callXiaoMing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p> 类别实现文件NSObject+CallXiaoMing.m</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">"NSObject+CallXiaoMing.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NSObject</span> (<span class="title">CallXiaoMing</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)callXiaoMing</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"lalala,don't sleep!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>main.m 的代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import &lt;Foundation/Foundation.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="string">"QYXiaoMing.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        QYXiaoMing *xiaoming = [[QYXiaoMing alloc] init];</span><br><span class="line">        [xiaoming startSleep:<span class="number">5</span>];<span class="comment">//5是5秒</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//要求程序运行到这里,不能结束, 是为了让显示的时间循环显示下</span></span><br><span class="line">        [[NSRunLoop currentRunLoop] run];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;<span class="comment">//main.m</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/10/10/类别的扩展-续/" data-id="cifkx5ejw00030inoxpdih9an" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-类别" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/10/类别/" class="article-date">
  <time datetime="2015-10-10T03:06:34.000Z" itemprop="datePublished">2015-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/10/类别/">类别</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="类别">类别</h2><ul>
<li>为现有的类(自定义的类、第三方的类或者是系统定义的类)添加一些新的行为</li>
<li>Objective－C的动态运行时的分配机制</li>
<li>为现有类添加新的行为，通常也可以采用创建子类的方法，但是它是有限制的，如现有的类你没有源代码，或者现有的类是以类簇的形式存在。都无法添加新的行为。</li>
<li>不能为现有类添加成员变量</li>
<li>类别的类的优先级都是极高的(没有系统定义的高)</li>
</ul>
<h4 id="声明和实现类别">声明和实现类别</h4><ul>
<li>类别代码习惯放在独立的文件中,通常会以”类名称+类别名称”的风格命名.这并不是硬性规定,而是一个好的习惯.如: NSString+NumberConvenience. 其含义是为现有类 NSString 添加一个名为 NumberConvenience 的类别</li>
<li>只要保证类别名唯一,可以像一个类中添加任意数量的类别.</li>
<li>XCode 提供有创建类别的模板</li>
</ul>
<p>声明类别   </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">NSString</span> (<span class="title">NSNumberConvience</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//为现有的类(NSString）添加一个新的方法</span></span><br><span class="line">- (<span class="built_in">NSNumber</span>*)lenthAsNumber;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>这个声明有两个特点：<br>      (1)现有的类位于@interface关键字之后，然后是位于括号中的类别名称。<br>         他表示：向NSString类中添加一个名称为NumberConvenience的类别<br>         同名类别有唯一性，但是可以添加任意多的不同名类别<br>      (2)可以执行希望向其添加类别的类以及类别的名称，还可以列出添加的方法<br>         不可以添加新的实例变量，类别生命中没有实例变量部分<br>类别的实现   </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">NSString</span> (<span class="title">NSNumberConvience</span>)</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSNumber</span>*)lenthAsNumber</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSUInteger</span> length = [<span class="keyword">self</span> length];</span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSNumber</span> numberWithUnsignedLong:length];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h4 id="类别的优缺点">类别的优缺点</h4><p>1.缺点   </p>
<pre><code><span class="bullet">* </span>无法向类别中添加新的实例变量    
<span class="bullet">* </span>名称冲突. 注意:类别具有较高的优先级   
</code></pre><p>2.优点   </p>
<pre><code><span class="keyword">*</span> 可以将类的实现代码分散到多个不同的文件或框架中,方便一个大的工程的实现,有多个人来做属于他的那一部分   
<span class="keyword">*</span> 创建对私有方法的前向引用   
<span class="keyword">*</span>向对象添加非正式协议
</code></pre><h2 id="类别的扩展">类别的扩展</h2><ul>
<li><strong>没有名字</strong>的类别</li>
<li>可以再源代码类类里使用</li>
<li>可以添加实例变量,作为类的私有变量</li>
<li>可以将只读权限改成可读写的权限</li>
<li>创建数量不限</li>
</ul>
<p>下面举一个例子,新建一个类 Things 继承与超类 NSObject,头文件内容如下: </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Things</span> : <span class="title">NSObject</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">assign</span>) <span class="built_in">NSUInteger</span> thing1;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">assign</span>,<span class="keyword">readonly</span>) <span class="built_in">NSUInteger</span> thing2;</span><br><span class="line"><span class="comment">//thing2是只读的</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)resetAllValues;</span><br><span class="line">- (<span class="keyword">void</span>)print; </span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>在类的实现文件中代码如下:   </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">"Things.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//用没有名字的类别， 来实现类的扩展</span></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">Things</span> ()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSUInteger</span> thing4;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@property</span>(<span class="keyword">assign</span>) <span class="built_in">NSUInteger</span> thing3;</span><br><span class="line"><span class="keyword">@property</span> (<span class="keyword">assign</span>,<span class="keyword">readwrite</span>) <span class="built_in">NSUInteger</span> thing2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">Things</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)resetAllValues</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">self</span><span class="variable">.thing1</span> = <span class="number">100</span>;</span><br><span class="line"><span class="comment">//正是因为我们改变thing2属性， 让其成为为可读写的， 所以这里才可以给其赋值</span></span><br><span class="line">    <span class="keyword">self</span><span class="variable">.thing2</span> = <span class="number">200</span>;</span><br><span class="line">    <span class="keyword">self</span><span class="variable">.thing3</span> = <span class="number">300</span>;</span><br><span class="line">    thing4 = <span class="number">400</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)print</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%ld,%ld,%ld,%ld"</span>,<span class="keyword">self</span><span class="variable">.thing1</span>,<span class="keyword">self</span><span class="variable">.thing2</span>,<span class="keyword">self</span><span class="variable">.thing3</span>,thing4);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>在 main()中的代码如下:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import &lt;Foundation/Foundation.h&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="string">"Things.h"</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[])</span> </span>&#123;</span><br><span class="line">    @autoreleasepool &#123;</span><br><span class="line">        Things *th = [[Things alloc] init];</span><br><span class="line"><span class="comment">//        虽然类扩展里里将thing2改成读写属性， 但在外界面使用的时候， 还是主类的属性</span></span><br><span class="line"><span class="comment">//        th.thing2 = 200;</span></span><br><span class="line">        [th resetAllValues];</span><br><span class="line">        [th print];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码的结果为:100,200,300,400.<br>实现了对 readonly 的成员变量 thing2的值的改写,但是只能在其类别的实现文件中改写,在此外 thing2仍是只读的.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/10/10/类别/" data-id="cifkx5ejx00040inokqdlk43f" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-函数指针与指针函数的区别" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/10/函数指针与指针函数的区别/" class="article-date">
  <time datetime="2015-10-10T03:05:59.000Z" itemprop="datePublished">2015-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/10/函数指针与指针函数的区别/">函数指针与指针函数的区别</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="指针函数和函数指针">指针函数和函数指针</h1><h3 id="指针函数">指针函数</h3><ul>
<li>指针函数是返回值是指针的函数,其本质就是一个函数.</li>
<li>类型标示符  *函数名 ( 参数表 ),下面是一个例子:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> *<span class="title">f</span><span class="params">(x,y)</span></span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>指针函数一定由函数值,且该返回值必须用同类型的指针边量来接受,下面是一个例子:</li>
</ul>
<figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> *<span class="function"><span class="keyword">function</span><span class="params">()</span></span>;  vs  <span class="keyword">double</span> (*<span class="function"><span class="keyword">function</span>)<span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">double</span> *p;</span><br><span class="line">p = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<p> 上面是两种声明形式生命的是不同的内容,左边一个是指针函数,右边的是函数指针,怎么区分呢?<br> 其实道理很简单,就看下未明身份的字符前面的<em>是否在括号里,像左边的, function 大家是认识的,就是函数的意思,假如大家遇到一个不认识的词,就看它前面的 </em>有没有和它同在一个括号里,不在,就是指针函数,在的话,就是函数指针.</p>
<h3 id="函数指针">函数指针</h3><ul>
<li>函数指针是<strong>指向函数</strong>的指针,一次,本质上是一个是指针变量</li>
</ul>
<figure class="highlight zephir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> (*f)(<span class="keyword">int</span>);<span class="comment">//声明一个函数指针</span></span><br><span class="line">f = <span class="function"><span class="keyword">function</span></span>;<span class="comment">// 赋值(将函数( function) 赋值给指针 f)</span></span><br><span class="line">ret = f(<span class="number">6</span>);<span class="comment">//调用(通过函数指针调用函数)</span></span><br></pre></td></tr></table></figure>
<h4 id="1-函数指针_-_赋值">1.函数指针 - 赋值</h4><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f = &amp;<span class="function"><span class="keyword">function</span></span>;</span><br><span class="line">f = <span class="function"><span class="keyword">function</span></span>;</span><br><span class="line">f();<span class="comment">// 通过函数指针调用函数</span></span><br></pre></td></tr></table></figure>
<h4 id="2-函数指针_-_调用">2.函数指针 - 调用</h4><p>-通过指针调用函数,可以采用以下两种形式:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>ret = (*f)(<span class="number">6</span>);<span class="comment">//明确指出通过读取指针变量调用函数</span></span><br><span class="line"><span class="number">2.</span>ret = f(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">f();<span class="comment">//通过函数指针调用函数</span></span><br></pre></td></tr></table></figure>
<h4 id="如何区分">如何区分</h4><p>函数名前面的星号*有没有被括号()包含</p>
<p>包含,就是函数指针</p>
<p>没包含,就是指针函数</p>
<p>下面举一个例子:</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int<span class="comment">(*(*function)(int*)</span>)[<span class="number">10</span>];</span><br></pre></td></tr></table></figure>
<p>擦,这可怎么理解啊!肯定会有人这么说,其实要想理解这个”东西” 逻辑就需要使用左右法则,又称为右左法则.</p>
<p><strong>左右法则</strong></p>
<ul>
<li><p>The right-left rule: Start reading the declaration from the innermost parentheses, go right, and then go left. When you encounter parentheses, the direction should be reversed. Once everything in the parentheses has been parsed, jump out of it. Continue till the whole declaration has been parsed.</p>
</li>
<li><p>左右法则: 首先从最里面的圆括号(<strong>未定义的标示符</strong>)看起,然后向右看,再向左看.每当遇到圆括号时,就应该调转阅读方向.一旦解析完圆括号里面的所有的东西,就跳出圆括号.重复这个过程直到整个声明解析完毕.</p>
</li>
</ul>
<p>例子</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>(*<span class="function"><span class="keyword">function</span></span>)(<span class="built_in">int</span> *p);</span><br></pre></td></tr></table></figure>
<p>首先, function 是未定义的标示符,先向右看,是圆括号,再向左看,前面有一个<em>号,那么 function 就是一个指针,跳出圆括号.再向右看又是一个括号,说明( </em> function)是一个函数,并且是一个函数指针,其参数是 一个整形的指针,返回值也是整形;</p>
<p>例子</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int<span class="comment">(*function)(int *p,int (*fun(int*)</span>));</span><br></pre></td></tr></table></figure>
<p>判断方法,先看 function前面有一个*,后面有一个括号,所以,它是一个函数指针,函数的内容有一个整型的指针 p, 还有一个什么呢?</p>
<p>在分析 f, 前面有一个*,后面有一个括号,说明 f 是一个函数指针,函数内有有一个整型的地址,返回值是整型.</p>
<p>所以,总的来说, function 是一个函数指针,其函数体内有一个整型的地址,还有一个函数指针,里面的函数指针里也有一个整型的指针,返回值为int,function 的返回值也是整型.</p>
<p>例子</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> (*func[<span class="number">5</span>])(<span class="keyword">int</span> *p);</span><br></pre></td></tr></table></figure>
<p>判断方法, func 是一个数组,前面有*,所以是一个存放地址的数组,后面还有圆括号,所以又是一个函数指针,是一个存放是一个存放数组地址的函数指针,看后面的括号,存放的是整型的指针指向的地址.再向前看, int返回值</p>
<p>再来个复杂的</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int <span class="list">(<span class="keyword">*</span><span class="list">(<span class="keyword">*func</span>)</span>[<span class="number">5</span>])</span><span class="list">(<span class="keyword">int</span> <span class="variable">*p);</span></span></span><br></pre></td></tr></table></figure>
<p>判断方法, func 是一个指针(前面有*),跳出最近的括号,是一个数组,这就变的和上面一样了,也是一个函数指针只不过是一个指针数组,里面存放的是整型指针的地址,,返回值是 int</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/10/10/函数指针与指针函数的区别/" data-id="cifkx5ekh000d0inov4m19ajr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-初始化-之-开箱即用和懒加载" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/10/初始化-之-开箱即用和懒加载/" class="article-date">
  <time datetime="2015-10-10T03:05:11.000Z" itemprop="datePublished">2015-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/10/初始化-之-开箱即用和懒加载/">初始化 之 开箱即用和懒加载</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="初始化">初始化</h3><h4 id="对象分配内存">对象分配内存</h4><h5 id="+_(id)_alloc;">+ (id) alloc;</h5><ul>
<li>对象的诞生过程,主要是从操作系统获得一块足够大的内存,以存放该类的全部实例变量,并将其指定为         存放对象的实例变量的位置.</li>
<li>alloc方法同时将这块内存区域全部设置为0.(由于其他语言没有初始化带来了很多问题),结果是: BOOL 变量初始值为 NO, 所有的 int 类型变量为0,float 变量为0.0,所有的指针为 nil.</li>
</ul>
<h4 id="初始化对象">初始化对象</h4><h5 id="-_(id)_init;">- (id) init;</h5><ul>
<li>初始化的功能就是保障我们的实例变量是可用的完整对象,如: 我们在初始化中给类中依赖的其它的实例变量赋值</li>
<li>有两种初始化思想.第一种就是初始化方法中将所有相依赖的对象全部创建并赋值,”开箱即用”;第二种是惰性求值,就是在初始化的时候先占位,在使用的时候,在确认具体的值.这两种方法需要根据业务来进行取舍.</li>
<li>初始化方法的编写习惯:</li>
</ul>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- (id)<span class="keyword">init</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> <span class="keyword">init</span>])&#123;</span><br><span class="line">	</span><br><span class="line">	   <span class="comment">//do something init content...</span></span><br><span class="line">	   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="开箱即用的初始化方式">开箱即用的初始化方式</h5><p>个人理解就是把初始化的过程放到了方法中,应该说是封装到了方法中,当使用时,只需要调用此方法就能实现对象的初始化.并且,此时不需要setter,getter 方法的声明与实现</p>
<p>直接在对应的实现文件中定义:</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//开箱即用</span></span><br><span class="line">- (id)<span class="keyword">init</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span> = [<span class="keyword">super</span> <span class="keyword">init</span>]) &#123;</span><br><span class="line">        engine = [[<span class="type">QYEngine</span> alloc] <span class="keyword">init</span>];</span><br><span class="line">        </span><br><span class="line">        tires = [[<span class="type">NSMutableArray</span> alloc] initWithCapacity:<span class="number">4</span>];</span><br><span class="line">        <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            <span class="type">QYTire</span> *tire = [[<span class="type">QYTire</span> alloc] <span class="keyword">init</span>];</span><br><span class="line">            [tires addObject:tire];</span><br><span class="line">            [tire release];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;<span class="comment">//开箱即用</span></span><br></pre></td></tr></table></figure>
<p>调用时也非常简单,这届在主函数中调用即可   </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="preprocessor">#import <span class="title">"QYCar.h"</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"QYEngine.h"</span></span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"QYTire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> main(<span class="keyword">int</span> argc, <span class="keyword">const</span> <span class="keyword">char</span> * argv[]) &#123;</span><br><span class="line">    <span class="keyword">@autoreleasepool</span> &#123;</span><br><span class="line">       <span class="comment">//开箱即用</span></span><br><span class="line">       QYCar *myCar = [[QYCar alloc] init];</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"Car info: %@"</span>,myCar);</span><br><span class="line">        [myCar release];</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当然,代码并不完整,只需要在相应的实现文件中实现部分打印功能即可<br>输出的结果如下<br>Car info: I am engine,(<br>    “I am tire”,<br>    “I am tire”,<br>    “I am tire”,<br>    “I am tire”<br>)<br>2015-06-28 21:26:28.068 InitDemo[2276:1416754] car destory<br>2015-06-28 21:26:29.251 InitDemo[2276:1416754] engine destory<br>2015-06-28 21:26:29.251 InitDemo[2276:1416754] tire destory<br>2015-06-28 21:26:30.187 InitDemo[2276:1416754] tire destory<br>2015-06-28 21:26:31.621 InitDemo[2276:1416754] tire destory</p>
<h5 id="懒加载初始化方式">懒加载初始化方式</h5><p>感觉懒加载的方式比较麻烦,他不仅需要 setter,getter 方法的声明和定义,还需要在具体调用时进行现场的初始化方式</p>
<p>懒加载的初始化方式具体实现,在对应的实现文件中:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//懒加载</span></span><br><span class="line">- (<span class="keyword">id</span>)init&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        tires = [[<span class="built_in">NSMutableArray</span> alloc] initWithCapacity:<span class="number">4</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            tires[i] = [<span class="built_in">NSNull</span> null];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setEngine:(QYEngine *)newEngine&#123;</span><br><span class="line">    [newEngine retain];</span><br><span class="line">    [engine release];</span><br><span class="line">    engine = newEngine;</span><br><span class="line">&#125;</span><br><span class="line">- (QYEngine*)engine&#123;</span><br><span class="line">    <span class="keyword">return</span> engine;</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">void</span>)setTire:(QYTire *)newTire atIndex:(<span class="built_in">NSUInteger</span>)index</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">//数组的使用会使tires的引用计数器加1</span></span><br><span class="line"><span class="comment">//    [newTire retain];</span></span><br><span class="line"><span class="comment">//    [tires[index] release];</span></span><br><span class="line">    tires[index] = newTire;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">- (QYTire*)tireAtIndex:(<span class="built_in">NSUInteger</span>)index&#123;</span><br><span class="line">    <span class="keyword">return</span> tires[index];</span><br><span class="line">&#125;<span class="comment">//懒加载</span></span><br></pre></td></tr></table></figure>
<p>main() 中的代码也同样不少,其输出结果与上面相同.</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="atom">int</span> <span class="atom">main</span>(<span class="atom">int</span> <span class="atom">argc</span>, <span class="atom">const</span> <span class="atom">char</span> * <span class="atom">argv</span>[]) &#123;</span><br><span class="line">    @<span class="atom">autoreleasepool</span> &#123;</span><br><span class="line">       //懒加载</span><br><span class="line">        <span class="name">QYCar</span> *<span class="atom">myCar</span> = [[<span class="name">QYCar</span> <span class="atom">alloc</span>] <span class="atom">init</span>];</span><br><span class="line">        <span class="name">QYEngine</span> *<span class="atom">engine</span> = [[<span class="name">QYEngine</span> <span class="atom">alloc</span>] <span class="atom">init</span>];</span><br><span class="line">        </span><br><span class="line">        [<span class="atom">myCar</span> <span class="atom">setEngine</span>:<span class="atom">engine</span>];</span><br><span class="line">        [<span class="atom">engine</span> <span class="atom">release</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="atom">for</span> (<span class="atom">int</span> <span class="atom">i</span> = <span class="number">0</span>; <span class="atom">i</span> &lt; <span class="number">4</span>; <span class="atom">i</span>++) &#123;</span><br><span class="line">            <span class="name">QYTire</span> *<span class="atom">tire</span> = [[<span class="name">QYTire</span> <span class="atom">alloc</span>] <span class="atom">init</span>];</span><br><span class="line">            [<span class="atom">myCar</span> <span class="atom">setTire</span>:<span class="atom">tire</span> <span class="atom">atIndex</span>:<span class="atom">i</span>];</span><br><span class="line">            [<span class="atom">tire</span> <span class="atom">release</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="name">NSLog</span>(@<span class="string">"Car info: %@"</span>,<span class="atom">myCar</span>);</span><br><span class="line">        [<span class="atom">myCar</span> <span class="atom">release</span>];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/10/10/初始化-之-开箱即用和懒加载/" data-id="cifkx5ekf000c0inol57dy8lc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-便利初始化方法和指定初始化方法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/10/便利初始化方法和指定初始化方法/" class="article-date">
  <time datetime="2015-10-10T03:01:26.000Z" itemprop="datePublished">2015-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/10/便利初始化方法和指定初始化方法/">便利初始化方法和指定初始化方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="初始化_之_便利初始化和指定初始化">初始化 之 便利初始化和指定初始化</h3><h4 id="便利初始化方式">便利初始化方式</h4><h6 id="便利初始化方式一">便利初始化方式一</h6><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">-</span>(<span class="tag">id</span>) <span class="rule"><span class="attribute">initWithFormat</span>:<span class="value">(NSString *) format,...</span></span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>初始化了一个新的字符串作为格式化操作的结果. 下面就是一个小例子</li>
</ul>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按格式返回字符串</span></span><br><span class="line">NSString *myString = [[NSString alloc] initWithFormat:@<span class="string">"myString has %d</span></span><br><span class="line">letter<span class="string">",8];      </span></span><br><span class="line"> NSLog(@<span class="string">"%@"</span>,myString);</span><br></pre></td></tr></table></figure>
<p> 其结果是打印出一句话:  myString has 8 letter</p>
<h6 id="便利初始化方式二">便利初始化方式二</h6><figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">*</span> -(id) initWithContentOfFile:(NSString<span class="keyword">*</span>) path encoding:(NSStringEncoding) enc error:(NSError<span class="keyword">*</span><span class="keyword">*</span>)error</span><br></pre></td></tr></table></figure>
<ul>
<li>功能是利用读取文件内容来初始化,初始化一个字符串对象</li>
<li>encoding 用于说明文件的编码格式,比如 GBK UTF8等,一般来说没有特殊情况，使用NSUTF8StringEncoding.</li>
<li>error 参数如果正常初始化了,则返回 nil, 否则返回错误信息,这些信息封装成 NSError 对象,可以使用%@格式符打印出来,也可以使用 NSError 的对象方法: localizedDescription 打印错误信息.</li>
<li>注意: error 是指针的指针</li>
</ul>
<p>下面是一个利用打开文件并且读取文件内容初始化的例子:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">NSError</span> *error = <span class="literal">nil</span>;</span><br><span class="line"> <span class="built_in">NSString</span> *fileContent = [<span class="built_in">NSString</span> stringWithContentsOfFile:<span class="string">@"/Users/qingyun/  Desktop/anotherTest.txt"</span> encoding:<span class="built_in">NSUTF8StringEncoding</span> error:&amp;error];</span><br><span class="line">        </span><br><span class="line"><span class="built_in">NSString</span> *fileContent = [[<span class="built_in">NSString</span> alloc] initWithContentsOfFile:<span class="string">@"/Users/ qingyun/Desktop/anotherTest.txt"</span> encoding:<span class="built_in">NSUTF8StringEncoding</span> error:&amp;error];</span><br><span class="line">      <span class="comment">// error 是指针的指针  </span></span><br><span class="line">   <span class="keyword">if</span> (<span class="literal">nil</span> != error) &#123;</span><br><span class="line">       <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,error);</span><br><span class="line">       exit(<span class="number">1</span>);</span><br><span class="line">   &#125;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"File content:%@"</span>,fileContent);</span><br></pre></td></tr></table></figure>
<h4 id="指定初始化方式">指定初始化方式</h4><h6 id="便利构造函数的缺点">便利构造函数的缺点</h6><p>   在子类化的时候，为了保证父类能正常初始化，就需要重写父类所有的初始化方法和便利初始化方法，并添加子类成员变量的初始，这样就会导致，当父类修改或者添加初始化方法的时候，子类需要做相应的修改。这样的设计偏离了高内聚低耦合的设计原则。</p>
<h6 id="指定初始化函数">指定初始化函数</h6><p>   类中的某个初始化方法被指派为指定初始化函数,该类的所有初始化方法都使用指定初始化方法执行初始化操作.而子类使用其超类的指定初始化方法进行超类的初始化.<br>   一般情况下,接收参数最多的初始化方法是最终的指定初始化方法,因为它的初始化信息比较全面.因此,对于子类来说,只要重写父类的指定初始化方法,就可以解决便利初始化方法的缺点.</p>
<p>下面举一个例子,构建一个 QYTire 的类,它有两个成员变量,压力和花纹,还有一些对应的方法,在其对应的头文件(. h) 中,代码如下: </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#import <span class="title">&lt;Foundation/Foundation.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">QYTire</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//    float myTirePresure;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">float</span> pressure;</span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">float</span> treadth;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithPressure:(<span class="keyword">float</span>)pressure;</span><br><span class="line">- (<span class="keyword">id</span>)initWithTreadth:(<span class="keyword">float</span>)treadth;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithPressure:(<span class="keyword">float</span>)pressure andTreadth:(<span class="keyword">float</span>)treadth;</span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<p>在实现文件中,代码如下:   </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">id</span>)init</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">self</span> initWithPressure:<span class="number">30.5</span>f andTreadth:<span class="number">20.6</span>f];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithPressure:(<span class="keyword">float</span>)p</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">self</span> initWithPressure:p andTreadth:<span class="number">20.6</span>f];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithTreadth:(<span class="keyword">float</span>)t</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">self</span> initWithPressure:<span class="number">30.5</span>f andTreadth:t];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//指定初始化方法</span></span><br><span class="line">- (<span class="keyword">id</span>)initWithPressure:(<span class="keyword">float</span>)p andTreadth:(<span class="keyword">float</span>)t</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span><span class="variable">.pressure</span>= p;</span><br><span class="line">        _treadth = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>新建一个子类 AllWeatherTire,继承于 QYTire,由于它继承了超类中的方法,当其在子类中要使用这些方法时,要重写这些方法.如果使用指定初始化方法时,当父类方法出现变动时,只需要重写子类中的指定初始化方法即可.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//头文件AllWeatherTire.h</span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"QYTire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">AllWeatherTire</span> : <span class="title">QYTire</span></span></span><br><span class="line"><span class="comment">//&#123;</span></span><br><span class="line"><span class="comment">//    float rainHanding;</span></span><br><span class="line"><span class="comment">//    </span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">float</span> rainHanding;</span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">float</span> snowHanding;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithRainHanding:(<span class="keyword">float</span>)rainHanding;</span><br><span class="line">- (<span class="keyword">id</span>)initWithSnowHanding:(<span class="keyword">float</span>)snowHanding;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//实现文件AllWeatherTire.m</span></span><br><span class="line"><span class="preprocessor">#import <span class="title">"AllWeatherTire.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">AllWeatherTire</span></span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithPressure:(<span class="keyword">float</span>)p andTreadth:(<span class="keyword">float</span>)t</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> initWithPressure:p andTreadth:t];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span><span class="variable">.snowHanding</span> = <span class="number">300.2</span>f;</span><br><span class="line">        <span class="keyword">self</span><span class="variable">.rainHanding</span> = <span class="number">200.3</span>f;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line">- (<span class="keyword">id</span>)initWithSnowHanding:(<span class="keyword">float</span>)s</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">self</span> initWithSnowHanding:s  andRainHanding:<span class="number">200.3</span>f];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithRainHanding:(<span class="keyword">float</span>)r</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">self</span> initWithSnowHanding:<span class="number">300.2</span>f andRainHanding:r ];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 子类的也可以使用指定初始化方式</span></span><br><span class="line">- (<span class="keyword">id</span>)initWithSnowHanding:(<span class="keyword">float</span>)s andRainHanding:(<span class="keyword">float</span>)r</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span> = [<span class="keyword">super</span> init];</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span><span class="variable">.snowHanding</span> = s;</span><br><span class="line">        <span class="keyword">self</span><span class="variable">.rainHanding</span> = r;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSString</span> *)description</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%.1f,%.1f,%.1f,%.1f"</span>, [<span class="keyword">self</span> pressure] ,[<span class="keyword">self</span> treadth],<span class="keyword">self</span><span class="variable">.rainHanding</span>,<span class="keyword">self</span><span class="variable">.snowHanding</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/10/10/便利初始化方法和指定初始化方法/" data-id="cifkx5ekq000h0ino6xpp3mie" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-手势识别器概述" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/10/手势识别器概述/" class="article-date">
  <time datetime="2015-10-10T02:56:09.000Z" itemprop="datePublished">2015-10-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/10/手势识别器概述/">手势识别器概述</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="手势识别器">手势识别器</h2><h3 id="iOS_手势识别器(UIGestureRecognizer)">iOS 手势识别器(UIGestureRecognizer)</h3><ul>
<li>点击手势(UITapGestureRecognizer)</li>
<li>滑动手势(UISwipeGestureRecognizer)</li>
<li>旋转手势(UIRotationGestureRecognizer)</li>
<li>捏合手势( UIPinchGestureRecognizer)</li>
<li>长按手势( UILongPressGestureRecognizer)</li>
<li>平移手势( UIPanGestureRecognizer)</li>
<li>屏幕边缘平移手势(UIScreenEdgePanGestureRecognizer)</li>
</ul>
<h3 id="UIGestureRecognizer">UIGestureRecognizer</h3><p>其对应的方法:</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- <span class="string">initWithTarget:</span><span class="string">action:</span></span><br><span class="line">- <span class="string">addTarget:</span><span class="string">action:</span></span><br><span class="line">- <span class="string">removeTarget:</span><span class="string">action:</span></span><br></pre></td></tr></table></figure>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby"> <span class="symbol">locationInView:</span></span><br><span class="line"></span>-<span class="ruby"> <span class="symbol">locationOfTouch:</span><span class="symbol">inView:</span></span><br><span class="line"></span>-<span class="ruby"> numberOfTouches</span></span><br></pre></td></tr></table></figure>
<hr>
<p>属性:</p>
<ul>
<li>stated</li>
<li>view</li>
<li>enable</li>
<li>cancelsTouchesInView</li>
<li>delaysTouchesBegin</li>
</ul>
<hr>
<p> 这里有一个方法,非常重要,当你需要使用双击手势时,单击手势也会出现.这个时候就要使用下面的方法:   </p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- <span class="string">requireGestureRecognizerToFail:</span>(<span class="string">eg:</span> 单击需要双击失败)</span><br></pre></td></tr></table></figure>
<h3 id="UITapGestureRecognizer">UITapGestureRecognizer</h3><ul>
<li>numberofTapsRequired (点击的次数)</li>
<li>numberOfTouchesRequired (用的是几根手指)</li>
</ul>
<h3 id="UISwipeGestureRecognizer">UISwipeGestureRecognizer</h3><ul>
<li>direction (移动的方向)</li>
<li>numberOfTouchesRequired </li>
</ul>
<h3 id="UIRotationGestureRecognizer">UIRotationGestureRecognizer</h3><ul>
<li>rotation (这里是旋转角度的绝对值,不是增量值,如果需要增量值,需要每次 rotation 置  0)</li>
<li>velocity (每秒多少弧长, radius 为  1 )</li>
</ul>
<h3 id="UIPinchGestureRecognizer">UIPinchGestureRecognizer</h3><ul>
<li>scale (如果 需要获得增量值,也需要 scale 置 1)</li>
<li>velocity (每秒多少 scale)</li>
</ul>
<h3 id="UILongPressGestureRecognizer">UILongPressGestureRecognizer</h3><ul>
<li>minimumPressDuration</li>
<li>numberOfTouchesRequired</li>
<li>numberOfTapsRequired</li>
<li>alowableMovement(允许移动)</li>
</ul>
<h3 id="UIPanGestureRecognizer">UIPanGestureRecognizer</h3><ul>
<li>maximumNumberOfTouches</li>
<li>minimumNumberOfTouches</li>
</ul>
<hr>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-<span class="ruby"> <span class="symbol">translationinView:</span></span><br><span class="line"></span>-<span class="ruby"> <span class="symbol">setTranslation:</span><span class="symbol">inView:</span></span><br><span class="line"></span>-<span class="ruby"> <span class="symbol">velocityView:</span>  (速度以 <span class="constant">CGpoint</span> 方式返回,可以分解为 x 和 y 两个方向的速度 )</span></span><br></pre></td></tr></table></figure>
<h3 id="UIScreenEdgePanGestureRecognizer">UIScreenEdgePanGestureRecognizer</h3><ul>
<li>edges</li>
</ul>
<p>&gt;<br>这个手势与平移手势有些不同,它是以屏幕边缘的部分才能产生效果,一般使用时需要特殊处理,否则就会与平移手势产生冲突.因为它继承 UIPanGestureRecognizer</p>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/10/10/手势识别器概述/" data-id="cifkx5ek600080inou9772r2k" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/10/09/hello-world/" class="article-date">
  <time datetime="2015-10-09T08:54:27.000Z" itemprop="datePublished">2015-10-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/09/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/10/09/hello-world/" data-id="cifkx5el5000n0inokjcnwc80" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/2/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/">Next &raquo;</a>
    </nav>
  
</section>
        
          <aside id="sidebar">
  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">30</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/10/10/常用快捷操作/">常用快捷操作</a>
          </li>
        
          <li>
            <a href="/2015/10/10/uiview常用属性和方法/">uiview常用属性和方法</a>
          </li>
        
          <li>
            <a href="/2015/10/10/KVO-概述及用法/">KVO 概述及用法</a>
          </li>
        
          <li>
            <a href="/2015/10/10/KVC-概述/">KVC 概述</a>
          </li>
        
          <li>
            <a href="/2015/10/10/KVC-补充及实例/">KVC 补充及实例</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>